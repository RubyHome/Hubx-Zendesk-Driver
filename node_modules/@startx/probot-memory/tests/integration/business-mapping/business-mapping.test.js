"use strict";
const BusinessMapping = require("../../../src/business-mapping/business-mapping");
const Should = require('should');
describe("[integration] Business Mapping", function () {
    before(function (done) {
        this.timeout(50000);
        BusinessMapping.db.sync({}).then(() => {
            done();
        }).catch(done);
    });
    it("should be able to find entities", function (done) {
        this.timeout(15000);
        BusinessMapping.entity.findAll({
            include: [
                {
                    all: true
                }
            ]
        }).then((docs) => {
            Should(docs).be.an.Array();
            var firstEntity = docs[0]["get"]({ plain: true });
            Should(firstEntity).not.be.null();
            Should(firstEntity.identifier).be.a.String();
            done();
        }).catch(done);
    });
    it("should contain a db property", function (done) {
        Should(BusinessMapping.db).be.not.be.empty();
        done();
    });
});
